<!DOCTYPE html>
<html class="  ">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Homebrew uninstall script</title>

  <meta content="authenticity_token" name="csrf-param" />
<meta content="3kShtW2enb/7RoITfjdR9u3bTlqC07HsSroC/YD38M3nKl5gQA6VhdhEoE907vxltvE/w5HiJbpGzR34oK9llw==" name="csrf-token" />
  <meta name="viewport" content="width=960">


    <link type="text/plain" rel="author" href="https://github.com/humans.txt" />
    <meta content="gist" name="octolytics-app-id" /><meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="184564DF:5F9A:252BEB8B:547179C4" name="octolytics-dimension-request_id" />
  <link rel="assets" href="https://gist-assets.github.com/">
  <link rel="zeroclipboard-assets" href="https://gist-assets.github.com/assets/zeroclipboard/dist/ZeroClipboard-aeb54c213f0d09883fed5a0947132da9.swf">
  <link rel="editor-assets" href="https://gist-assets.github.com/assets/editor-45bb0875cf799571836bd5318689ed5e.js">
  <link rel="mount-point" href="/">


  <link href="https://gist-assets.github.com/assets/application-1b5eb54748cdea1e935f88b156033088.css" media="screen, print" rel="stylesheet" />
  <script src="https://gist-assets.github.com/assets/application-c895d8abece41f3294dba2a7da41a82c.js"></script>

      <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@github">
  <meta property="og:title" content="SteveBenner/unbrew.rb">
  <meta property="og:type" content="githubog:gist">
  <meta property="og:url" content="https://gist.github.com/SteveBenner/11254428">
  <meta property="og:image" content="https://avatars3.githubusercontent.com/u/2619000?s=140">
  <meta property="og:site_name" content="GitHub Gists">
  <meta property="og:description" content="Homebrew uninstall script - Gist is a simple way to share snippets of text and code with others.">
  <meta name="description" content="Homebrew uninstall script - Gist is a simple way to share snippets of text and code with others.">


</head>

<body class=" "
  data-plan="">

  <div id="wrapper">
    

    <div id="header" class="header header-logged-out">
      <div class="container" class="clearfix">
        <a class="header-logo-wordmark" href="https://gist.github.com/">
          <span class="octicon octicon-logo-github"></span>
          <span class="octicon-logo octicon-logo-gist"></span>
        </a>

        <div class="header-actions">
          <a class="button primary" href="https://github.com/signup?return_to=gist">Sign up for a GitHub account</a>
          <a class="button" href="https://gist.github.com/login?return_to=%2FSteveBenner%2F11254428" data-skip-pjax>Sign in</a>
        </div>
        <div class="divider-vertical"></div>
        <div class="topsearch">
  <form id="top_search_form" action="/search" data-pjax-remote=push accept-charset="UTF-8">
    <div class="search">
      <input type="text" class="search js-search js-navigation-enable " name="q" placeholder="Search&#x2026;" data-hotkey="/" autocomplete=off autocorrect=off value="" >

    </div>
    <div class="divider-vertical"></div>
  </form>
  <ul class="top-nav">
    <li class="explore"><a href="/discover">All Gists</a></li>
  </ul>
</div>

      </div>
    </div>

    <div class="site-content" id="js-pjax-container" data-pjax-container>
      <div id="js-flash-container" class="site-container js-site-container" data-url="/SteveBenner/11254428">
  
  

<meta content="true" name="octolytics-dimension-public" /><meta content="11254428" name="octolytics-dimension-gist_id" /><meta content="11254428" name="octolytics-dimension-gist_name" /><meta content="false" name="octolytics-dimension-anonymous" /><meta content="2619000" name="octolytics-dimension-owner_id" /><meta content="SteveBenner" name="octolytics-dimension-owner_login" /><meta content="false" name="octolytics-dimension-forked" />

<div class="pagehead repohead">
  <div class="container">
    <div class="title-actions-bar">
      <ul class="pagehead-actions">


      </ul>
      <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title ">
  <div class="meta">
    <div class="gist-author">
      <img src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="26" height="26">
        <span class="author vcard">
            <span itemprop="title"><a href="/SteveBenner">SteveBenner</a></span>
        </span> /
      <strong><a href="/SteveBenner/11254428" class="js-current-repository">unbrew.rb</a></strong>
    </div>
    <div class="gist-timestamp">
        <span class="datetime">Last active <time datetime="2014-10-23T10:49:41Z" is="relative-time">October 23, 2014</time></span>
    </div>
</h1>

    </div>

  </div>
</div>


<div class="container">
  <div class="gist js-gist-container gist-with-sidebar with-full-navigation"
    data-version="e0ce9590364a2f45777059522ed13ad9d7c2d641"
    data-created="false"
    data-updated="false">

      <div class="gist-sidebar clearfix">
  <div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders">
    <div class="sunken-menu-contents">
      <ul class="sunken-menu-group">
        <li class="tooltipped tooltipped-w" aria-label="Code">
          <a aria-label="Code" class="sunken-menu-item selected" data-pjax="true" href="/SteveBenner/11254428">
            <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
            <img alt="" class="mini-loader" height="16" src="https://gist-assets.github.com/assets/spinners/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16" />
</a>        </li>

          <li class="tooltipped tooltipped-w" aria-label="Revisions">
            <a aria-label="Revisions" class="sunken-menu-item" data-pjax="true" href="/SteveBenner/11254428/revisions">
              <span class="octicon octicon-git-commit"></span> <span class="full-word">Revisions</span>
              <img alt="" class="mini-loader" height="16" src="https://gist-assets.github.com/assets/spinners/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16" />
              <span class='counter'>5</span>
</a>          </li>

          <li class="tooltipped tooltipped-w" aria-label="Stars">
            <a aria-label="Stars" class="sunken-menu-item" data-pjax="true" href="/SteveBenner/11254428/stars">
              <span class="octicon octicon-star"></span> <span class="full-word">Stars</span>
              <img alt="" class="mini-loader" height="16" src="https://gist-assets.github.com/assets/spinners/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16" />
              <span class='counter'>23</span>
</a>          </li>

          <li class="tooltipped tooltipped-w" aria-label="Forks">
            <a aria-label="Forks" class="sunken-menu-item" data-pjax="true" href="/SteveBenner/11254428/forks">
              <span class="octicon octicon-git-branch"></span> <span class="full-word">Forks</span>
              <img alt="" class="mini-loader" height="16" src="https://gist-assets.github.com/assets/spinners/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16" />
              <span class='counter'>9</span>
</a>          </li>
      </ul>
    </div><!-- /.sunken-menu-group -->
  </div><!-- /.sunken-menu-contents -->

  <div class="only-with-full-nav">

    <div class="embed-url open" style="display: block;">
      <h3><strong>Embed</strong> URL</h3>
      <div class="clone-url-box">
        <input type="text" class="clone js-url-field" value="&lt;script src=&quot;https://gist.github.com/SteveBenner/11254428.js&quot;&gt;&lt;/script&gt;" readonly="readonly">
        <span class="url-box-clippy">
          <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="&lt;script src=&quot;https://gist.github.com/SteveBenner/11254428.js&quot;&gt;&lt;/script&gt;" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
        </span>
      </div>
    </div>
    <p class="clone-options"></p>

      
<div class="clone-url open" data-protocol-type="http" data-url="https://gist.github.com/11254428.git">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone url-field js-url-field" value="https://gist.github.com/11254428.git" readonly="readonly">
    <span class="url-box-clippy">
      <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://gist.github.com/11254428.git" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url " data-protocol-type="ssh" data-url="git@gist.github.com:/11254428.git">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone url-field js-url-field" value="git@gist.github.com:/11254428.git" readonly="readonly">
    <span class="url-box-clippy">
      <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="git@gist.github.com:/11254428.git" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-skip-pjax data-protocol="http">HTTPS</a>
      or <a href="#" class="js-clone-selector" data-skip-pjax data-protocol="ssh">SSH</a>.
</p>


    <a aria-label="Download unbrew.rb as a zip file" class="minibutton sidebar-button" href="/SteveBenner/11254428/download" rel="nofollow" title="Download unbrew.rb as a zip file">
      <span class="octicon octicon-cloud-download"></span>
      Download Gist
</a>  </div><!-- /.only-with-full-nav -->

</div>


    <div class="gist-content">
          <div class="gist-meta">
            <div class="gist-description">
              <p><div>Homebrew uninstall script</div></p>
            </div>
          </div>

      <div class="files">
            <div id="file-unbrew-rb" class="file ">
    <a href="/SteveBenner/11254428" class="link-overlay">
    <span class="link">View <strong>unbrew.rb</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-gist"></b>
      </span>
      <a aria-label="Permalink" href="#file-unbrew-rb" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">unbrew.rb</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw"
          href="/SteveBenner/11254428/raw/7e1dc06b38696f9de3807982473f313687d1dba2/unbrew.rb"
          data-skip-pjax class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-ruby js-blob-data">
    



    <div class="file-data">
      <table cellpadding="0" cellspacing="0" class="lines highlight">
        <tr>
          <td class="line-numbers">
            <span class="line-number" id="file-unbrew-rb-L1" rel="file-unbrew-rb-L1">1</span>
            <span class="line-number" id="file-unbrew-rb-L2" rel="file-unbrew-rb-L2">2</span>
            <span class="line-number" id="file-unbrew-rb-L3" rel="file-unbrew-rb-L3">3</span>
            <span class="line-number" id="file-unbrew-rb-L4" rel="file-unbrew-rb-L4">4</span>
            <span class="line-number" id="file-unbrew-rb-L5" rel="file-unbrew-rb-L5">5</span>
            <span class="line-number" id="file-unbrew-rb-L6" rel="file-unbrew-rb-L6">6</span>
            <span class="line-number" id="file-unbrew-rb-L7" rel="file-unbrew-rb-L7">7</span>
            <span class="line-number" id="file-unbrew-rb-L8" rel="file-unbrew-rb-L8">8</span>
            <span class="line-number" id="file-unbrew-rb-L9" rel="file-unbrew-rb-L9">9</span>
            <span class="line-number" id="file-unbrew-rb-L10" rel="file-unbrew-rb-L10">10</span>
            <span class="line-number" id="file-unbrew-rb-L11" rel="file-unbrew-rb-L11">11</span>
            <span class="line-number" id="file-unbrew-rb-L12" rel="file-unbrew-rb-L12">12</span>
            <span class="line-number" id="file-unbrew-rb-L13" rel="file-unbrew-rb-L13">13</span>
            <span class="line-number" id="file-unbrew-rb-L14" rel="file-unbrew-rb-L14">14</span>
            <span class="line-number" id="file-unbrew-rb-L15" rel="file-unbrew-rb-L15">15</span>
            <span class="line-number" id="file-unbrew-rb-L16" rel="file-unbrew-rb-L16">16</span>
            <span class="line-number" id="file-unbrew-rb-L17" rel="file-unbrew-rb-L17">17</span>
            <span class="line-number" id="file-unbrew-rb-L18" rel="file-unbrew-rb-L18">18</span>
            <span class="line-number" id="file-unbrew-rb-L19" rel="file-unbrew-rb-L19">19</span>
            <span class="line-number" id="file-unbrew-rb-L20" rel="file-unbrew-rb-L20">20</span>
            <span class="line-number" id="file-unbrew-rb-L21" rel="file-unbrew-rb-L21">21</span>
            <span class="line-number" id="file-unbrew-rb-L22" rel="file-unbrew-rb-L22">22</span>
            <span class="line-number" id="file-unbrew-rb-L23" rel="file-unbrew-rb-L23">23</span>
            <span class="line-number" id="file-unbrew-rb-L24" rel="file-unbrew-rb-L24">24</span>
            <span class="line-number" id="file-unbrew-rb-L25" rel="file-unbrew-rb-L25">25</span>
            <span class="line-number" id="file-unbrew-rb-L26" rel="file-unbrew-rb-L26">26</span>
            <span class="line-number" id="file-unbrew-rb-L27" rel="file-unbrew-rb-L27">27</span>
            <span class="line-number" id="file-unbrew-rb-L28" rel="file-unbrew-rb-L28">28</span>
            <span class="line-number" id="file-unbrew-rb-L29" rel="file-unbrew-rb-L29">29</span>
            <span class="line-number" id="file-unbrew-rb-L30" rel="file-unbrew-rb-L30">30</span>
            <span class="line-number" id="file-unbrew-rb-L31" rel="file-unbrew-rb-L31">31</span>
            <span class="line-number" id="file-unbrew-rb-L32" rel="file-unbrew-rb-L32">32</span>
            <span class="line-number" id="file-unbrew-rb-L33" rel="file-unbrew-rb-L33">33</span>
            <span class="line-number" id="file-unbrew-rb-L34" rel="file-unbrew-rb-L34">34</span>
            <span class="line-number" id="file-unbrew-rb-L35" rel="file-unbrew-rb-L35">35</span>
            <span class="line-number" id="file-unbrew-rb-L36" rel="file-unbrew-rb-L36">36</span>
            <span class="line-number" id="file-unbrew-rb-L37" rel="file-unbrew-rb-L37">37</span>
            <span class="line-number" id="file-unbrew-rb-L38" rel="file-unbrew-rb-L38">38</span>
            <span class="line-number" id="file-unbrew-rb-L39" rel="file-unbrew-rb-L39">39</span>
            <span class="line-number" id="file-unbrew-rb-L40" rel="file-unbrew-rb-L40">40</span>
            <span class="line-number" id="file-unbrew-rb-L41" rel="file-unbrew-rb-L41">41</span>
            <span class="line-number" id="file-unbrew-rb-L42" rel="file-unbrew-rb-L42">42</span>
            <span class="line-number" id="file-unbrew-rb-L43" rel="file-unbrew-rb-L43">43</span>
            <span class="line-number" id="file-unbrew-rb-L44" rel="file-unbrew-rb-L44">44</span>
            <span class="line-number" id="file-unbrew-rb-L45" rel="file-unbrew-rb-L45">45</span>
            <span class="line-number" id="file-unbrew-rb-L46" rel="file-unbrew-rb-L46">46</span>
            <span class="line-number" id="file-unbrew-rb-L47" rel="file-unbrew-rb-L47">47</span>
            <span class="line-number" id="file-unbrew-rb-L48" rel="file-unbrew-rb-L48">48</span>
            <span class="line-number" id="file-unbrew-rb-L49" rel="file-unbrew-rb-L49">49</span>
            <span class="line-number" id="file-unbrew-rb-L50" rel="file-unbrew-rb-L50">50</span>
            <span class="line-number" id="file-unbrew-rb-L51" rel="file-unbrew-rb-L51">51</span>
            <span class="line-number" id="file-unbrew-rb-L52" rel="file-unbrew-rb-L52">52</span>
            <span class="line-number" id="file-unbrew-rb-L53" rel="file-unbrew-rb-L53">53</span>
            <span class="line-number" id="file-unbrew-rb-L54" rel="file-unbrew-rb-L54">54</span>
            <span class="line-number" id="file-unbrew-rb-L55" rel="file-unbrew-rb-L55">55</span>
            <span class="line-number" id="file-unbrew-rb-L56" rel="file-unbrew-rb-L56">56</span>
            <span class="line-number" id="file-unbrew-rb-L57" rel="file-unbrew-rb-L57">57</span>
            <span class="line-number" id="file-unbrew-rb-L58" rel="file-unbrew-rb-L58">58</span>
            <span class="line-number" id="file-unbrew-rb-L59" rel="file-unbrew-rb-L59">59</span>
            <span class="line-number" id="file-unbrew-rb-L60" rel="file-unbrew-rb-L60">60</span>
            <span class="line-number" id="file-unbrew-rb-L61" rel="file-unbrew-rb-L61">61</span>
            <span class="line-number" id="file-unbrew-rb-L62" rel="file-unbrew-rb-L62">62</span>
            <span class="line-number" id="file-unbrew-rb-L63" rel="file-unbrew-rb-L63">63</span>
            <span class="line-number" id="file-unbrew-rb-L64" rel="file-unbrew-rb-L64">64</span>
            <span class="line-number" id="file-unbrew-rb-L65" rel="file-unbrew-rb-L65">65</span>
            <span class="line-number" id="file-unbrew-rb-L66" rel="file-unbrew-rb-L66">66</span>
            <span class="line-number" id="file-unbrew-rb-L67" rel="file-unbrew-rb-L67">67</span>
            <span class="line-number" id="file-unbrew-rb-L68" rel="file-unbrew-rb-L68">68</span>
            <span class="line-number" id="file-unbrew-rb-L69" rel="file-unbrew-rb-L69">69</span>
            <span class="line-number" id="file-unbrew-rb-L70" rel="file-unbrew-rb-L70">70</span>
            <span class="line-number" id="file-unbrew-rb-L71" rel="file-unbrew-rb-L71">71</span>
            <span class="line-number" id="file-unbrew-rb-L72" rel="file-unbrew-rb-L72">72</span>
            <span class="line-number" id="file-unbrew-rb-L73" rel="file-unbrew-rb-L73">73</span>
            <span class="line-number" id="file-unbrew-rb-L74" rel="file-unbrew-rb-L74">74</span>
            <span class="line-number" id="file-unbrew-rb-L75" rel="file-unbrew-rb-L75">75</span>
            <span class="line-number" id="file-unbrew-rb-L76" rel="file-unbrew-rb-L76">76</span>
            <span class="line-number" id="file-unbrew-rb-L77" rel="file-unbrew-rb-L77">77</span>
            <span class="line-number" id="file-unbrew-rb-L78" rel="file-unbrew-rb-L78">78</span>
            <span class="line-number" id="file-unbrew-rb-L79" rel="file-unbrew-rb-L79">79</span>
            <span class="line-number" id="file-unbrew-rb-L80" rel="file-unbrew-rb-L80">80</span>
            <span class="line-number" id="file-unbrew-rb-L81" rel="file-unbrew-rb-L81">81</span>
            <span class="line-number" id="file-unbrew-rb-L82" rel="file-unbrew-rb-L82">82</span>
            <span class="line-number" id="file-unbrew-rb-L83" rel="file-unbrew-rb-L83">83</span>
            <span class="line-number" id="file-unbrew-rb-L84" rel="file-unbrew-rb-L84">84</span>
            <span class="line-number" id="file-unbrew-rb-L85" rel="file-unbrew-rb-L85">85</span>
            <span class="line-number" id="file-unbrew-rb-L86" rel="file-unbrew-rb-L86">86</span>
            <span class="line-number" id="file-unbrew-rb-L87" rel="file-unbrew-rb-L87">87</span>
            <span class="line-number" id="file-unbrew-rb-L88" rel="file-unbrew-rb-L88">88</span>
            <span class="line-number" id="file-unbrew-rb-L89" rel="file-unbrew-rb-L89">89</span>
            <span class="line-number" id="file-unbrew-rb-L90" rel="file-unbrew-rb-L90">90</span>
            <span class="line-number" id="file-unbrew-rb-L91" rel="file-unbrew-rb-L91">91</span>
            <span class="line-number" id="file-unbrew-rb-L92" rel="file-unbrew-rb-L92">92</span>
            <span class="line-number" id="file-unbrew-rb-L93" rel="file-unbrew-rb-L93">93</span>
            <span class="line-number" id="file-unbrew-rb-L94" rel="file-unbrew-rb-L94">94</span>
            <span class="line-number" id="file-unbrew-rb-L95" rel="file-unbrew-rb-L95">95</span>
            <span class="line-number" id="file-unbrew-rb-L96" rel="file-unbrew-rb-L96">96</span>
            <span class="line-number" id="file-unbrew-rb-L97" rel="file-unbrew-rb-L97">97</span>
            <span class="line-number" id="file-unbrew-rb-L98" rel="file-unbrew-rb-L98">98</span>
            <span class="line-number" id="file-unbrew-rb-L99" rel="file-unbrew-rb-L99">99</span>
            <span class="line-number" id="file-unbrew-rb-L100" rel="file-unbrew-rb-L100">100</span>
            <span class="line-number" id="file-unbrew-rb-L101" rel="file-unbrew-rb-L101">101</span>
            <span class="line-number" id="file-unbrew-rb-L102" rel="file-unbrew-rb-L102">102</span>
            <span class="line-number" id="file-unbrew-rb-L103" rel="file-unbrew-rb-L103">103</span>
            <span class="line-number" id="file-unbrew-rb-L104" rel="file-unbrew-rb-L104">104</span>
            <span class="line-number" id="file-unbrew-rb-L105" rel="file-unbrew-rb-L105">105</span>
            <span class="line-number" id="file-unbrew-rb-L106" rel="file-unbrew-rb-L106">106</span>
            <span class="line-number" id="file-unbrew-rb-L107" rel="file-unbrew-rb-L107">107</span>
            <span class="line-number" id="file-unbrew-rb-L108" rel="file-unbrew-rb-L108">108</span>
            <span class="line-number" id="file-unbrew-rb-L109" rel="file-unbrew-rb-L109">109</span>
            <span class="line-number" id="file-unbrew-rb-L110" rel="file-unbrew-rb-L110">110</span>
            <span class="line-number" id="file-unbrew-rb-L111" rel="file-unbrew-rb-L111">111</span>
            <span class="line-number" id="file-unbrew-rb-L112" rel="file-unbrew-rb-L112">112</span>
            <span class="line-number" id="file-unbrew-rb-L113" rel="file-unbrew-rb-L113">113</span>
            <span class="line-number" id="file-unbrew-rb-L114" rel="file-unbrew-rb-L114">114</span>
            <span class="line-number" id="file-unbrew-rb-L115" rel="file-unbrew-rb-L115">115</span>
            <span class="line-number" id="file-unbrew-rb-L116" rel="file-unbrew-rb-L116">116</span>
            <span class="line-number" id="file-unbrew-rb-L117" rel="file-unbrew-rb-L117">117</span>
            <span class="line-number" id="file-unbrew-rb-L118" rel="file-unbrew-rb-L118">118</span>
            <span class="line-number" id="file-unbrew-rb-L119" rel="file-unbrew-rb-L119">119</span>
            <span class="line-number" id="file-unbrew-rb-L120" rel="file-unbrew-rb-L120">120</span>
            <span class="line-number" id="file-unbrew-rb-L121" rel="file-unbrew-rb-L121">121</span>
            <span class="line-number" id="file-unbrew-rb-L122" rel="file-unbrew-rb-L122">122</span>
            <span class="line-number" id="file-unbrew-rb-L123" rel="file-unbrew-rb-L123">123</span>
            <span class="line-number" id="file-unbrew-rb-L124" rel="file-unbrew-rb-L124">124</span>
            <span class="line-number" id="file-unbrew-rb-L125" rel="file-unbrew-rb-L125">125</span>
            <span class="line-number" id="file-unbrew-rb-L126" rel="file-unbrew-rb-L126">126</span>
            <span class="line-number" id="file-unbrew-rb-L127" rel="file-unbrew-rb-L127">127</span>
            <span class="line-number" id="file-unbrew-rb-L128" rel="file-unbrew-rb-L128">128</span>
            <span class="line-number" id="file-unbrew-rb-L129" rel="file-unbrew-rb-L129">129</span>
            <span class="line-number" id="file-unbrew-rb-L130" rel="file-unbrew-rb-L130">130</span>
            <span class="line-number" id="file-unbrew-rb-L131" rel="file-unbrew-rb-L131">131</span>
            <span class="line-number" id="file-unbrew-rb-L132" rel="file-unbrew-rb-L132">132</span>
            <span class="line-number" id="file-unbrew-rb-L133" rel="file-unbrew-rb-L133">133</span>
            <span class="line-number" id="file-unbrew-rb-L134" rel="file-unbrew-rb-L134">134</span>
            <span class="line-number" id="file-unbrew-rb-L135" rel="file-unbrew-rb-L135">135</span>
            <span class="line-number" id="file-unbrew-rb-L136" rel="file-unbrew-rb-L136">136</span>
            <span class="line-number" id="file-unbrew-rb-L137" rel="file-unbrew-rb-L137">137</span>
            <span class="line-number" id="file-unbrew-rb-L138" rel="file-unbrew-rb-L138">138</span>
            <span class="line-number" id="file-unbrew-rb-L139" rel="file-unbrew-rb-L139">139</span>
            <span class="line-number" id="file-unbrew-rb-L140" rel="file-unbrew-rb-L140">140</span>
            <span class="line-number" id="file-unbrew-rb-L141" rel="file-unbrew-rb-L141">141</span>
            <span class="line-number" id="file-unbrew-rb-L142" rel="file-unbrew-rb-L142">142</span>
            <span class="line-number" id="file-unbrew-rb-L143" rel="file-unbrew-rb-L143">143</span>
            <span class="line-number" id="file-unbrew-rb-L144" rel="file-unbrew-rb-L144">144</span>
            <span class="line-number" id="file-unbrew-rb-L145" rel="file-unbrew-rb-L145">145</span>
            <span class="line-number" id="file-unbrew-rb-L146" rel="file-unbrew-rb-L146">146</span>
            <span class="line-number" id="file-unbrew-rb-L147" rel="file-unbrew-rb-L147">147</span>
            <span class="line-number" id="file-unbrew-rb-L148" rel="file-unbrew-rb-L148">148</span>
            <span class="line-number" id="file-unbrew-rb-L149" rel="file-unbrew-rb-L149">149</span>
            <span class="line-number" id="file-unbrew-rb-L150" rel="file-unbrew-rb-L150">150</span>
            <span class="line-number" id="file-unbrew-rb-L151" rel="file-unbrew-rb-L151">151</span>
            <span class="line-number" id="file-unbrew-rb-L152" rel="file-unbrew-rb-L152">152</span>
            <span class="line-number" id="file-unbrew-rb-L153" rel="file-unbrew-rb-L153">153</span>
            <span class="line-number" id="file-unbrew-rb-L154" rel="file-unbrew-rb-L154">154</span>
            <span class="line-number" id="file-unbrew-rb-L155" rel="file-unbrew-rb-L155">155</span>
            <span class="line-number" id="file-unbrew-rb-L156" rel="file-unbrew-rb-L156">156</span>
            <span class="line-number" id="file-unbrew-rb-L157" rel="file-unbrew-rb-L157">157</span>
            <span class="line-number" id="file-unbrew-rb-L158" rel="file-unbrew-rb-L158">158</span>
            <span class="line-number" id="file-unbrew-rb-L159" rel="file-unbrew-rb-L159">159</span>
            <span class="line-number" id="file-unbrew-rb-L160" rel="file-unbrew-rb-L160">160</span>
            <span class="line-number" id="file-unbrew-rb-L161" rel="file-unbrew-rb-L161">161</span>
            <span class="line-number" id="file-unbrew-rb-L162" rel="file-unbrew-rb-L162">162</span>
            <span class="line-number" id="file-unbrew-rb-L163" rel="file-unbrew-rb-L163">163</span>
            <span class="line-number" id="file-unbrew-rb-L164" rel="file-unbrew-rb-L164">164</span>
            <span class="line-number" id="file-unbrew-rb-L165" rel="file-unbrew-rb-L165">165</span>
            <span class="line-number" id="file-unbrew-rb-L166" rel="file-unbrew-rb-L166">166</span>
            <span class="line-number" id="file-unbrew-rb-L167" rel="file-unbrew-rb-L167">167</span>
            <span class="line-number" id="file-unbrew-rb-L168" rel="file-unbrew-rb-L168">168</span>
            <span class="line-number" id="file-unbrew-rb-L169" rel="file-unbrew-rb-L169">169</span>
            <span class="line-number" id="file-unbrew-rb-L170" rel="file-unbrew-rb-L170">170</span>
            <span class="line-number" id="file-unbrew-rb-L171" rel="file-unbrew-rb-L171">171</span>
            <span class="line-number" id="file-unbrew-rb-L172" rel="file-unbrew-rb-L172">172</span>
            <span class="line-number" id="file-unbrew-rb-L173" rel="file-unbrew-rb-L173">173</span>
            <span class="line-number" id="file-unbrew-rb-L174" rel="file-unbrew-rb-L174">174</span>
            <span class="line-number" id="file-unbrew-rb-L175" rel="file-unbrew-rb-L175">175</span>
            <span class="line-number" id="file-unbrew-rb-L176" rel="file-unbrew-rb-L176">176</span>
            <span class="line-number" id="file-unbrew-rb-L177" rel="file-unbrew-rb-L177">177</span>
            <span class="line-number" id="file-unbrew-rb-L178" rel="file-unbrew-rb-L178">178</span>
            <span class="line-number" id="file-unbrew-rb-L179" rel="file-unbrew-rb-L179">179</span>
          </td>
          <td class="line-data">
            <pre class="line-pre"><div class="line" id="file-unbrew-rb-LC1"><span class="pl-c">#!/usr/bin/env ruby</span>
</div><div class="line" id="file-unbrew-rb-LC2"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC3"><span class="pl-c"># CLI tool for locating and removing a Homebrew installation</span>
</div><div class="line" id="file-unbrew-rb-LC4"><span class="pl-c"># http://brew.sh/</span>
</div><div class="line" id="file-unbrew-rb-LC5"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC6"><span class="pl-c"># Author: Stephen Benner</span>
</div><div class="line" id="file-unbrew-rb-LC7"><span class="pl-c"># https://github.com/SteveBenner</span>
</div><div class="line" id="file-unbrew-rb-LC8"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC9"><span class="pl-c"># Contributors:</span>
</div><div class="line" id="file-unbrew-rb-LC10"><span class="pl-c"># - @AaronKulick</span>
</div><div class="line" id="file-unbrew-rb-LC11"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC12"><span class="pl-k">require</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>optparse<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC13"><span class="pl-k">require</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>fileutils<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC14"><span class="pl-k">require</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>open3<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC15">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC16"><span class="pl-vo">$stdout</span>.sync <span class="pl-k">=</span> <span class="pl-c1">true</span>
</div><div class="line" id="file-unbrew-rb-LC17">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC18"><span class="pl-c"># Default options</span>
</div><div class="line" id="file-unbrew-rb-LC19">options <span class="pl-k">=</span> {
</div><div class="line" id="file-unbrew-rb-LC20">  <span class="pl-c1">:quiet</span>     =&gt; <span class="pl-c1">false</span>,
</div><div class="line" id="file-unbrew-rb-LC21">  <span class="pl-c1">:verbose</span>   =&gt; <span class="pl-c1">true</span>,
</div><div class="line" id="file-unbrew-rb-LC22">  <span class="pl-c1">:dry_run</span>   =&gt; <span class="pl-c1">false</span>,
</div><div class="line" id="file-unbrew-rb-LC23">  <span class="pl-c1">:force</span>     =&gt; <span class="pl-c1">false</span>,
</div><div class="line" id="file-unbrew-rb-LC24">  <span class="pl-c1">:find_path</span> =&gt; <span class="pl-c1">false</span>
</div><div class="line" id="file-unbrew-rb-LC25">}
</div><div class="line" id="file-unbrew-rb-LC26">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC27">optparser <span class="pl-k">=</span> <span class="pl-s3">OptionParser</span>.<span class="pl-k">new</span> <span class="pl-k">do </span>|<span class="pl-vo">opts</span>|
</div><div class="line" id="file-unbrew-rb-LC28">  opts.banner <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>Homebrew uninstaller<span class="pl-pds">&#39;</span></span> <span class="pl-k">+</span> <span class="pl-vo">$/</span>
</div><div class="line" id="file-unbrew-rb-LC29">  opts.on(<span class="pl-s1"><span class="pl-pds">&#39;</span>-q<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--quiet<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Quiet mode - suppress output.<span class="pl-pds">&#39;</span></span>) <span class="pl-k">do </span>|<span class="pl-vo">setting</span>|
</div><div class="line" id="file-unbrew-rb-LC30">    options[<span class="pl-c1">:quiet</span>]   <span class="pl-k">=</span> setting
</div><div class="line" id="file-unbrew-rb-LC31">    options[<span class="pl-c1">:verbose</span>] <span class="pl-k">=</span> <span class="pl-c1">false</span>
</div><div class="line" id="file-unbrew-rb-LC32">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC33">  opts.on(<span class="pl-s1"><span class="pl-pds">&#39;</span>-v<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--verbose<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Verbose mode - print all operations.<span class="pl-pds">&#39;</span></span>) { |<span class="pl-vo">setting</span>| options[<span class="pl-c1">:verbose</span>] <span class="pl-k">=</span> setting }
</div><div class="line" id="file-unbrew-rb-LC34">  opts.on(<span class="pl-s1"><span class="pl-pds">&#39;</span>-d<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--dry<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Dry run - print results, but perform no actual operations.<span class="pl-pds">&#39;</span></span>) <span class="pl-k">do </span>|<span class="pl-vo">setting</span>|
</div><div class="line" id="file-unbrew-rb-LC35">    options[<span class="pl-c1">:dry_run</span>] <span class="pl-k">=</span> setting
</div><div class="line" id="file-unbrew-rb-LC36">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC37">  opts.on(<span class="pl-s1"><span class="pl-pds">&#39;</span>-f<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--force<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Forces removal of files, bypassing prompt. USE WITH CAUTION!<span class="pl-pds">&#39;</span></span>) <span class="pl-k">do </span>|<span class="pl-vo">setting</span>|
</div><div class="line" id="file-unbrew-rb-LC38">    options[<span class="pl-c1">:force</span>] <span class="pl-k">=</span> setting
</div><div class="line" id="file-unbrew-rb-LC39">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC40">  opts.on(<span class="pl-s1"><span class="pl-pds">&#39;</span>-p<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--find-path<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Output homebrew location if found, then exit.<span class="pl-pds">&#39;</span></span>) <span class="pl-k">do </span>|<span class="pl-vo">setting</span>|
</div><div class="line" id="file-unbrew-rb-LC41">    options[<span class="pl-c1">:find_path</span>] <span class="pl-k">=</span> setting
</div><div class="line" id="file-unbrew-rb-LC42">    options[<span class="pl-c1">:quiet</span>]     <span class="pl-k">=</span> <span class="pl-c1">true</span>
</div><div class="line" id="file-unbrew-rb-LC43">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC44">  opts.on_tail(<span class="pl-s1"><span class="pl-pds">&#39;</span>-h<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--help<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>--usage<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Display this message.<span class="pl-pds">&#39;</span></span>) { puts opts; exit }
</div><div class="line" id="file-unbrew-rb-LC45">  opts.on_tail(<span class="pl-s1"><span class="pl-pds">&#39;</span>--version<span class="pl-pds">&#39;</span></span>, <span class="pl-s1"><span class="pl-pds">&#39;</span>Display script version.<span class="pl-pds">&#39;</span></span>) { puts opts.version; exit }
</div><div class="line" id="file-unbrew-rb-LC46"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC47">optparser.version <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>0.1.2<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC48">optparser.summary_width <span class="pl-k">=</span> <span class="pl-c1">16</span>
</div><div class="line" id="file-unbrew-rb-LC49">optparser.parse!
</div><div class="line" id="file-unbrew-rb-LC50">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC51"><span class="pl-vo">$quiet</span> <span class="pl-k">=</span> options[<span class="pl-c1">:quiet</span>] <span class="pl-c"># provides access to option value within methods</span>
</div><div class="line" id="file-unbrew-rb-LC52">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC53"><span class="pl-c"># Files installed into the Homebrew repository</span>
</div><div class="line" id="file-unbrew-rb-LC54"><span class="pl-vo">BREW_LOCAL_FILES</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">%w[</span></span>
</div><div class="line" id="file-unbrew-rb-LC55"><span class="pl-s1">  .git</span>
</div><div class="line" id="file-unbrew-rb-LC56"><span class="pl-s1">  Cellar</span>
</div><div class="line" id="file-unbrew-rb-LC57"><span class="pl-s1">  Library/brew.rb</span>
</div><div class="line" id="file-unbrew-rb-LC58"><span class="pl-s1">  Library/Homebrew</span>
</div><div class="line" id="file-unbrew-rb-LC59"><span class="pl-s1">  Library/Aliases</span>
</div><div class="line" id="file-unbrew-rb-LC60"><span class="pl-s1">  Library/Formula</span>
</div><div class="line" id="file-unbrew-rb-LC61"><span class="pl-s1">  Library/Contributions</span>
</div><div class="line" id="file-unbrew-rb-LC62"><span class="pl-s1">  Library/LinkedKegs</span>
</div><div class="line" id="file-unbrew-rb-LC63"><span class="pl-s1"><span class="pl-pds">]</span></span>
</div><div class="line" id="file-unbrew-rb-LC64"><span class="pl-c"># Files that Homebrew installs into other system locations</span>
</div><div class="line" id="file-unbrew-rb-LC65"><span class="pl-vo">BREW_SYSTEM_FILES</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">%W[</span></span>
</div><div class="line" id="file-unbrew-rb-LC66"><span class="pl-s1">  <span class="pl-pse">#{</span><span class="pl-s2"><span class="pl-vo">ENV</span>[<span class="pl-s1"><span class="pl-pds">&#39;</span>HOME<span class="pl-pds">&#39;</span></span>]</span><span class="pl-pse"><span class="pl-s2">}</span></span>/Library/Caches/Homebrew</span>
</div><div class="line" id="file-unbrew-rb-LC67"><span class="pl-s1">  <span class="pl-pse">#{</span><span class="pl-s2"><span class="pl-vo">ENV</span>[<span class="pl-s1"><span class="pl-pds">&#39;</span>HOME<span class="pl-pds">&#39;</span></span>]</span><span class="pl-pse"><span class="pl-s2">}</span></span>/Library/Logs/Homebrew</span>
</div><div class="line" id="file-unbrew-rb-LC68"><span class="pl-s1">  /Library/Caches/Homebrew</span>
</div><div class="line" id="file-unbrew-rb-LC69"><span class="pl-s1"><span class="pl-pds">]</span></span>
</div><div class="line" id="file-unbrew-rb-LC70"><span class="pl-vo">$files</span> <span class="pl-k">=</span> []
</div><div class="line" id="file-unbrew-rb-LC71">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC72"><span class="pl-c"># This function runs given command in a sub-shell, expecting the output to be the</span>
</div><div class="line" id="file-unbrew-rb-LC73"><span class="pl-c"># path of a Homebrew installation. If given a block, it passes the shell output to</span>
</div><div class="line" id="file-unbrew-rb-LC74"><span class="pl-c"># the block for processing, using the return value of the block as the new path.</span>
</div><div class="line" id="file-unbrew-rb-LC75"><span class="pl-c"># Known Homebrew files are then scanned for and added to the file list. Then the</span>
</div><div class="line" id="file-unbrew-rb-LC76"><span class="pl-c"># directory is tested for a Homebrew installation, and the git index is added if</span>
</div><div class="line" id="file-unbrew-rb-LC77"><span class="pl-c"># a valid repo is found. The function won&#39;t run once a Homebrew installation is</span>
</div><div class="line" id="file-unbrew-rb-LC78"><span class="pl-c"># found, but it will accumulate untracked Homebrew files each invocation.</span>
</div><div class="line" id="file-unbrew-rb-LC79"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC80"><span class="pl-c"># @param  [String] cmd        A shell command to run</span>
</div><div class="line" id="file-unbrew-rb-LC81"><span class="pl-c"># @param  [String] error_msg  Message to print if command fails</span>
</div><div class="line" id="file-unbrew-rb-LC82"><span class="pl-c">#</span>
</div><div class="line" id="file-unbrew-rb-LC83"><span class="pl-k">def</span> <span class="pl-en">locate_brew_path</span>(<span class="pl-vpf">cmd</span>, <span class="pl-vpf">error_msg</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">&#39;</span>check homebrew installation and PATH.<span class="pl-pds">&#39;</span></span>)
</div><div class="line" id="file-unbrew-rb-LC84">  <span class="pl-k">return</span> <span class="pl-k">if</span> <span class="pl-vo">$brew_location</span> <span class="pl-c"># stop testing if we find a valid Homebrew installation</span>
</div><div class="line" id="file-unbrew-rb-LC85">  puts <span class="pl-s1"><span class="pl-pds">&quot;</span>Searching for homewbrew installation using &#39;<span class="pl-pse">#{</span><span class="pl-s2">cmd</span><span class="pl-pse"><span class="pl-s2">}</span></span>&#39;...<span class="pl-pds">&quot;</span></span> <span class="pl-k">unless</span> <span class="pl-vo">$quiet</span>
</div><div class="line" id="file-unbrew-rb-LC86">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC87">  <span class="pl-c"># Run given shell command along with any code passed-in via block</span>
</div><div class="line" id="file-unbrew-rb-LC88">  path <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">`</span><span class="pl-pse">#{</span><span class="pl-s2">cmd</span><span class="pl-pse"><span class="pl-s2">}</span></span><span class="pl-pds">`</span></span>.chomp
</div><div class="line" id="file-unbrew-rb-LC89">  path <span class="pl-k">=</span> <span class="pl-k">yield</span>(path) <span class="pl-k">if</span> <span class="pl-k">block_given?</span> <span class="pl-c"># pass command output to your own fancy code block</span>
</div><div class="line" id="file-unbrew-rb-LC90">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC91">  <span class="pl-k">begin</span>
</div><div class="line" id="file-unbrew-rb-LC92">    <span class="pl-s3">Dir</span>.chdir(path) <span class="pl-k">do</span>
</div><div class="line" id="file-unbrew-rb-LC93">      <span class="pl-c"># Search for known Homebrew files and folders, regardless of git presence</span>
</div><div class="line" id="file-unbrew-rb-LC94">      <span class="pl-vo">$files</span> <span class="pl-k">+=</span> <span class="pl-s3">BREW_LOCAL_FILES</span>.select { |<span class="pl-vo">file</span>| <span class="pl-s3">File</span>.exist? file }.map {|<span class="pl-vo">file</span>| <span class="pl-s3">File</span>.expand_path file }
</div><div class="line" id="file-unbrew-rb-LC95">      <span class="pl-vo">$files</span> <span class="pl-k">+=</span> <span class="pl-s3">Dir</span>.glob(<span class="pl-s1"><span class="pl-pds">&#39;</span>**/{man,bin}/**/brew*<span class="pl-pds">&#39;</span></span>)
</div><div class="line" id="file-unbrew-rb-LC96">      <span class="pl-c"># Test for Homebrew git repository (use popen3 so we can suppress git error output)</span>
</div><div class="line" id="file-unbrew-rb-LC97">      repo_name <span class="pl-k">=</span> <span class="pl-s3">Open3</span>.popen3(<span class="pl-s1"><span class="pl-pds">&#39;</span>git remote -v<span class="pl-pds">&#39;</span></span>) <span class="pl-k">do </span>|<span class="pl-vo">stdin</span>, <span class="pl-vo">stdout</span>, <span class="pl-vo">stderr</span>|
</div><div class="line" id="file-unbrew-rb-LC98">        stderr.close
</div><div class="line" id="file-unbrew-rb-LC99">        stdout.read
</div><div class="line" id="file-unbrew-rb-LC100">      <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC101">      <span class="pl-k">if</span> repo_name <span class="pl-k">=~</span> <span class="pl-sr"><span class="pl-pds">/</span>homebrew.git|Homebrew<span class="pl-pds">/</span></span>
</div><div class="line" id="file-unbrew-rb-LC102">        <span class="pl-vo">$brew_location</span> <span class="pl-k">=</span> path
</div><div class="line" id="file-unbrew-rb-LC103">      <span class="pl-k">else</span>
</div><div class="line" id="file-unbrew-rb-LC104">        <span class="pl-k">return</span>
</div><div class="line" id="file-unbrew-rb-LC105">      <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC106">    <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC107">  <span class="pl-k">rescue</span> <span class="pl-vo">StandardError</span> <span class="pl-c"># on normal errors, continue program</span>
</div><div class="line" id="file-unbrew-rb-LC108">    <span class="pl-k">return</span>
</div><div class="line" id="file-unbrew-rb-LC109">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC110"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC111">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC112"><span class="pl-c"># Attempt to locate homebrew installation using a command and optional code block</span>
</div><div class="line" id="file-unbrew-rb-LC113"><span class="pl-c"># for processing the command results. Locating a valid path halts searching.</span>
</div><div class="line" id="file-unbrew-rb-LC114">locate_brew_path <span class="pl-s1"><span class="pl-pds">&#39;</span>brew --prefix<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC115">locate_brew_path(<span class="pl-s1"><span class="pl-pds">&#39;</span>which brew<span class="pl-pds">&#39;</span></span>) { |<span class="pl-vo">output</span>| <span class="pl-s3">File</span>.expand_path(<span class="pl-s1"><span class="pl-pds">&#39;</span>../..<span class="pl-pds">&#39;</span></span>, output) }
</div><div class="line" id="file-unbrew-rb-LC116">locate_brew_path(<span class="pl-s1"><span class="pl-pds">&#39;</span>command -v brew<span class="pl-pds">&#39;</span></span>) { |<span class="pl-vo">output</span>| <span class="pl-s3">File</span>.expand_path(<span class="pl-s1"><span class="pl-pds">&#39;</span>../..<span class="pl-pds">&#39;</span></span>, output) }
</div><div class="line" id="file-unbrew-rb-LC117">locate_brew_path <span class="pl-s1"><span class="pl-pds">&#39;</span>brew --prefix<span class="pl-pds">&#39;</span></span> <span class="pl-k">do </span>|<span class="pl-vo">output</span>|
</div><div class="line" id="file-unbrew-rb-LC118">  output <span class="pl-k">=</span> output.split(<span class="pl-vo">$/</span>).first
</div><div class="line" id="file-unbrew-rb-LC119">  <span class="pl-s3">File</span>.expand_path(<span class="pl-s1"><span class="pl-pds">&#39;</span>../..<span class="pl-pds">&#39;</span></span>, output)
</div><div class="line" id="file-unbrew-rb-LC120"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC121">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC122"><span class="pl-c"># Found Homebrew installation</span>
</div><div class="line" id="file-unbrew-rb-LC123"><span class="pl-k">if</span> <span class="pl-vo">$brew_location</span>
</div><div class="line" id="file-unbrew-rb-LC124">  <span class="pl-k">if</span> options[<span class="pl-c1">:find_path</span>]
</div><div class="line" id="file-unbrew-rb-LC125">    puts <span class="pl-vo">$brew_location</span>
</div><div class="line" id="file-unbrew-rb-LC126">    exit
</div><div class="line" id="file-unbrew-rb-LC127">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC128">  <span class="pl-k">unless</span> options[<span class="pl-c1">:quiet</span>]
</div><div class="line" id="file-unbrew-rb-LC129">    puts <span class="pl-s1"><span class="pl-pds">&quot;</span>Homebrew found at: <span class="pl-pse">#{</span><span class="pl-s2"><span class="pl-vo">$brew_location</span></span><span class="pl-pse"><span class="pl-s2">}</span></span><span class="pl-pds">&quot;</span></span>
</div><div class="line" id="file-unbrew-rb-LC130">    <span class="pl-k">begin</span> <span class="pl-c"># record kegs and taps for later output</span>
</div><div class="line" id="file-unbrew-rb-LC131">      brewed <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">`</span>brew list<span class="pl-pds">`</span></span>
</div><div class="line" id="file-unbrew-rb-LC132">      tapped <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">`</span>brew tap<span class="pl-pds">`</span></span>
</div><div class="line" id="file-unbrew-rb-LC133">    <span class="pl-k">rescue</span> <span class="pl-vo">StandardError</span>
</div><div class="line" id="file-unbrew-rb-LC134">    <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC135">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC136">  <span class="pl-c"># Collect files indexed by git</span>
</div><div class="line" id="file-unbrew-rb-LC137">  <span class="pl-k">begin</span>
</div><div class="line" id="file-unbrew-rb-LC138">    <span class="pl-s3">Dir</span>.chdir(<span class="pl-vo">$brew_location</span>) <span class="pl-k">do</span>
</div><div class="line" id="file-unbrew-rb-LC139">      <span class="pl-c"># Update file list (use popen3 so we can suppress git error output)</span>
</div><div class="line" id="file-unbrew-rb-LC140">      <span class="pl-s3">Open3</span>.popen3(<span class="pl-s1"><span class="pl-pds">&#39;</span>git checkout master<span class="pl-pds">&#39;</span></span>) { |<span class="pl-vo">stdin</span>, <span class="pl-vo">stdout</span>, <span class="pl-vo">stderr</span>| stderr.close }
</div><div class="line" id="file-unbrew-rb-LC141">      <span class="pl-vo">$files</span> <span class="pl-k">+=</span> <span class="pl-s1"><span class="pl-pds">`</span>git ls-files<span class="pl-pds">`</span></span>.split.map {|<span class="pl-vo">file</span>| <span class="pl-s3">File</span>.expand_path file }
</div><div class="line" id="file-unbrew-rb-LC142">    <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC143">  <span class="pl-k">rescue</span> <span class="pl-vo">StandardError</span> =&gt; e
</div><div class="line" id="file-unbrew-rb-LC144">    puts e <span class="pl-c"># Report any errors, but continue the script and collect any last files</span>
</div><div class="line" id="file-unbrew-rb-LC145">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC146"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC147">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC148"><span class="pl-c"># Collect any files Homebrew may have installed throughout our system</span>
</div><div class="line" id="file-unbrew-rb-LC149"><span class="pl-vo">$files</span> <span class="pl-k">+=</span> <span class="pl-s3">BREW_SYSTEM_FILES</span>.select { |<span class="pl-vo">file</span>| <span class="pl-s3">File</span>.exist? file }
</div><div class="line" id="file-unbrew-rb-LC150">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC151">abort <span class="pl-s1"><span class="pl-pds">&#39;</span>Failed to locate any homebrew files!<span class="pl-pds">&#39;</span></span> <span class="pl-k">if</span> <span class="pl-vo">$files</span>.empty?
</div><div class="line" id="file-unbrew-rb-LC152">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC153"><span class="pl-c"># DESTROY! DESTROY! DESTROY!</span>
</div><div class="line" id="file-unbrew-rb-LC154"><span class="pl-k">unless</span> options[<span class="pl-c1">:force</span>]
</div><div class="line" id="file-unbrew-rb-LC155">  print <span class="pl-s1"><span class="pl-pds">&quot;</span>Delete <span class="pl-pse">#{</span><span class="pl-s2"><span class="pl-vo">$files</span>.count</span><span class="pl-pse"><span class="pl-s2">}</span></span> files? <span class="pl-pds">&quot;</span></span>
</div><div class="line" id="file-unbrew-rb-LC156">  abort <span class="pl-k">unless</span> gets.rstrip <span class="pl-k">=~</span> <span class="pl-sr"><span class="pl-pds">/</span>y|yes<span class="pl-pds">/i</span></span>
</div><div class="line" id="file-unbrew-rb-LC157"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC158">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC159">rm <span class="pl-k">=</span>
</div><div class="line" id="file-unbrew-rb-LC160">  <span class="pl-k">if</span> options[<span class="pl-c1">:dry_run</span>]
</div><div class="line" id="file-unbrew-rb-LC161">    lambda { |<span class="pl-vo">entry</span>| puts <span class="pl-s1"><span class="pl-pds">&quot;</span>deleting <span class="pl-pse">#{</span><span class="pl-s2">entry</span><span class="pl-pse"><span class="pl-s2">}</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">unless</span> options[<span class="pl-c1">:quiet</span>] }
</div><div class="line" id="file-unbrew-rb-LC162">  <span class="pl-k">else</span>
</div><div class="line" id="file-unbrew-rb-LC163">    lambda { |<span class="pl-vo">entry</span>| <span class="pl-s3">FileUtils</span>.rm_rf(entry, <span class="pl-c1">:verbose</span> =&gt; options[<span class="pl-c1">:verbose</span>]) }
</div><div class="line" id="file-unbrew-rb-LC164">  <span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC165">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC166">puts <span class="pl-s1"><span class="pl-pds">&#39;</span>Deleting files...<span class="pl-pds">&#39;</span></span> <span class="pl-k">unless</span> options[<span class="pl-c1">:quiet</span>]
</div><div class="line" id="file-unbrew-rb-LC167"><span class="pl-vo">$files</span>.each(<span class="pl-k">&amp;</span>rm)
</div><div class="line" id="file-unbrew-rb-LC168">&nbsp;
</div><div class="line" id="file-unbrew-rb-LC169"><span class="pl-c"># Print a list of formulae and kegs that were removed as part of the uninstall process</span>
</div><div class="line" id="file-unbrew-rb-LC170"><span class="pl-k">if</span> brewed
</div><div class="line" id="file-unbrew-rb-LC171">  puts
</div><div class="line" id="file-unbrew-rb-LC172">  puts <span class="pl-s1"><span class="pl-pds">&#39;</span>The following previously installed formulae were removed:<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC173">  puts brewed
</div><div class="line" id="file-unbrew-rb-LC174"><span class="pl-k">end</span>
</div><div class="line" id="file-unbrew-rb-LC175"><span class="pl-k">if</span> tapped
</div><div class="line" id="file-unbrew-rb-LC176">  puts
</div><div class="line" id="file-unbrew-rb-LC177">  puts <span class="pl-s1"><span class="pl-pds">&#39;</span>The following previously tapped kegs were removed:<span class="pl-pds">&#39;</span></span>
</div><div class="line" id="file-unbrew-rb-LC178">  puts tapped
</div><div class="line" id="file-unbrew-rb-LC179"><span class="pl-k">end</span>
</div></pre>
          </td>
        </tr>
      </table>
    </div>

  </div>
</div>


        <div class="discussion-timeline js-quote-selection-container">

          <div class="js-discussion">
            
<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1217016" class="comment js-comment js-task-list-container" data-body-version="1cb9d7063c21d67e3d6f68487da088f5">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1217016" class="timestamp"><time datetime="2014-04-24T13:36:46Z" is="relative-time">April 24, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <h3>Instructions:</h3>

<ul class="task-list">
<li>Firstly, the script of course requires execution privileges. You can make it executable for your user with: <code>chmod u+x unbrew.rb</code>.</li>
<li>You can run the script by executing it normally on the command line, which means either using the absolute path, e.g. <code>/Users/you/unbrew.rb</code>, or if the file is in your current working directory, you should use: <code>./unbrew.rb</code>.</li>
<li>I prefer to actually run this like any other binary program in unix, meaning I use a command such as: <code>ln -s &lt;path-to-script&gt; /usr/local/bin/unbrew</code> to symbolically link it into my executables directory. Now I can just call <code>unbrew</code> in the shell, like any other command.</li>
<li>I recommend running the script with <code>sudo</code> in case there are any permissions irregularities present in your system, which can easily happen. This is just my style though—it works fine without <code>sudo</code>.</li>
</ul>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/famousevo"><img class="timeline-comment-avatar" src="https://avatars0.githubusercontent.com/u/4720153?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1242702" class="comment js-comment js-task-list-container" data-body-version="50fd514cbecf8c6f3fe1c80c583bed49">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/famousevo">famousevo</a>
          </strong>

          commented

            <a href="#comment-1242702" class="timestamp"><time datetime="2014-06-09T14:46:37Z" is="relative-time">June 09, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Hi Steve! Thanks for this script. When I use it I am getting:</p>

<pre><code>$ sudo ./unbrew.rb
Searching for homewbrew installation using 'brew --prefix'...
./unbrew.rb:80:in ``': No such file or directory - brew (Errno::ENOENT)
    from ./unbrew.rb:80:in `locate_brew_path'
    from ./unbrew.rb:106:in `&lt;main&gt;'
</code></pre>

<p>This is how supposed to be? It look like he stops at that point.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/ofalbertm"><img class="timeline-comment-avatar" src="https://avatars1.githubusercontent.com/u/6333494?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1242828" class="comment js-comment js-task-list-container" data-body-version="03eda72209a3be5a684a920c9a0b04bb">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/ofalbertm">ofalbertm</a>
          </strong>

          commented

            <a href="#comment-1242828" class="timestamp"><time datetime="2014-06-09T18:43:22Z" is="relative-time">June 09, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks Steve!<br>
Works fine.<br>
Was able to uninstall<br>
and then successfully install again.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/samstav"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2030182?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1247031" class="comment js-comment js-task-list-container" data-body-version="0ee99bf81f7ac22509431bf56601c25a">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/samstav">samstav</a>
          </strong>

          commented

            <a href="#comment-1247031" class="timestamp"><time datetime="2014-06-16T20:16:20Z" is="relative-time">June 16, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Excellent. Thank you. </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/cauerego"><img class="timeline-comment-avatar" src="https://avatars0.githubusercontent.com/u/560418?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1247216" class="comment js-comment js-task-list-container" data-body-version="37fa6398459717f291b3e5b298f8cf9f">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/cauerego">cauerego</a>
          </strong>

          commented

            <a href="#comment-1247216" class="timestamp"><time datetime="2014-06-17T05:32:37Z" is="relative-time">June 17, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Worked fine for me, but I also had to resolve one issue unaddressed here...</p>

<p>I've tried removing macports, but it still left bad permissions behind. In my case, the problem was this, every time:</p>

<pre><code>$ ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"
==&gt; This script will install:
/usr/local/bin/brew
/usr/local/Library/...
/usr/local/share/man/man1/brew.1

Press RETURN to continue or any other key to abort
==&gt; /usr/bin/sudo /bin/chmod g+rwx /Library/Caches/Homebrew
Password:
==&gt; Downloading and installing Homebrew...
remote: Counting objects: 179487, done.
remote: Compressing objects: 100% (49680/49680), done.
remote: Total 179487 (delta 128693), reused 179418 (delta 128645)
Receiving objects: 100% (179487/179487), 35.45 MiB | 373.00 KiB/s, done.
Resolving deltas: 100% (128693/128693), done.
From https://github.com/Homebrew/homebrew
 * [new branch]      master     -&gt; origin/master
error: unable to unlink old 'Library/Contributions/brew_bash_completion.sh' (Permission denied)
error: unable to unlink old 'Library/Contributions/brew_fish_completion.fish' (Permission denied)
error: unable to unlink old 'Library/Contributions/brew_zsh_completion.zsh' (Permission denied)
fatal: cannot create directory at 'Library/Contributions/cmd': Permission denied
Failed during: git reset --hard origin/master
</code></pre>

<p>So I went to <code>/usr/local</code> and used <code>chown -R caue Library</code> to set the permission properly. Maybe this can give you a hint on many places you should look for folders to have proper permission after cleaning up Homebrew... Or maybe this should be addressed on the installation script. I'm not sure. How about both? :P</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/AaronKulick"><img class="timeline-comment-avatar" src="https://avatars2.githubusercontent.com/u/549554?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1247458" class="comment js-comment js-task-list-container" data-body-version="761674cb43cb3f62e2de07d2a8590b48">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/AaronKulick">AaronKulick</a>
          </strong>

          commented

            <a href="#comment-1247458" class="timestamp"><time datetime="2014-06-17T13:26:33Z" is="relative-time">June 17, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Instead of relying on <code>which</code>, why not consider using <code>builtin command -v brew</code>?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1252486" class="comment js-comment js-task-list-container" data-body-version="9a3fe996bf824c67cbe39ffb0c0fb3d2">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1252486" class="timestamp"><time datetime="2014-06-25T13:00:00Z" is="relative-time">June 25, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@reactorIO: I’m not sure why the script broke for you; did you modify it before running? Did you use any options/flags? I can’t tell what’s wrong from just the output you pasted, but of course it isn’t supposed to ‘hang’ like that. It seems an <code>IOError</code> is being thrown, but the script is actually supposed to catch all exceptions based on <code>StandardError</code> and just keep running if it can’t find the homebrew location… It looks like the execution of the shell command in backticks is returning an unexpected result, so this is probably due to your system having an odd configuration, or you messed with the script itself. I’d be happy to help you figure it out if you can supply more info. Try running the commands used by the script yourself, in a terminal, and see what that results in.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1252523" class="comment js-comment js-task-list-container" data-body-version="4ec0efb6b7a43aae40d0141266b108fa">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1252523" class="timestamp"><time datetime="2014-06-25T13:59:42Z" is="relative-time">June 25, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@cauerego Are you saying that after running the unbrew script, there were still homebrew files leftover? If working properly, the script should remove all of the ‘old’ files, and there shouldn’t be any interactions with other software; it should be totally clean so you don’t have to remove anything manually. I intentionally avoid messing with permissions unless truly necessary--my philosophy is to be as unobtrusive as possible, <em>especially</em> with such a tricky subject. There are <strong>many</strong> ways to configure your system, and depending on how permissions are set up, it may require the use of <code>sudo</code> before running the script, which is why I recommend doing that in my initial comment.</p>

<p>In the open-source world of Unix/POSIX we’ve gone a long way towards making it easy for software to be interoperable, but unfortunately the freedom and customizability of our systems means it’s still a massive headache much of the time. It takes a lot of knowledge to ‘master’ unix development I think, but if we encourage the propagation of best-practices and focus on constant maintenance and documentation of our systems it will just keep getting easier. For instance, with resources like stackoverflow, it’s incredibly easy for new users (like myself) to discover important conventions and info, such as the fact <code>/usr/local</code> is a special directory left up to the user to manage—Mac OS doesn’t touch it, and as software-builders we wouldn’t want to end up intruding either. So really, what is deemed as ‘proper’ permissions should be left to the user, which is why we invented forking and such.</p>

<p>I am sure that the best philosophy for design of software tools is based on being <strong>unopinionated</strong> as much as possible, and this is more vital the ‘lower’ something operates in the system. Homebrew captures this with a rare elegance that makes it simple to use and powerful at the same time; that’s why I’m so interested in extending it’s capabilities and supporting it’s usage/adoption. We are going a long way with community work on Homebrew. I don’t contribute directly to the project, (yet) but I do want to work on extending the capabilities of Homebrew at some point soon. Addressing your comment, I hope you can see why Homebrew doesn’t change permissions when installing like you suggest, and I wouldn't change that for an uninstaller tool either. </p>

<p>I encourage people to check out <a href="http://apple.stackexchange.com/questions/1393/are-my-permissions-for-usr-local-correct" rel="noreferrer">this stack exchange thread</a> as it has a lot of very good discussion and information about Homebrew and permissions. I use the command mentioned by the poster on occasion myself to set things straight.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1252531" class="comment js-comment js-task-list-container" data-body-version="ff2d704fbe08ff316f969e09cdfb9d73">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1252531" class="timestamp"><time datetime="2014-06-25T14:09:53Z" is="relative-time">June 25, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@AaronKulick I’ve never heard of that command before, and after googling a bit it seems to me still quite vague. But I intended the script to be as convenient and invisible to the user as possible, (it should just <strong><em>work</em></strong>) so I added your suggestion and attribution. The more code that contributes to a better uninstaller, the better it does it’s job.</p>

<p><strong>P.S.</strong> I would be interested to know any merits or reasoning behind using the <code>command -v brew</code> as you suggest, just because I’m still not sure exactly wherein the differences lies in using <code>which brew</code>.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/GrimaceVladimir"><img class="timeline-comment-avatar" src="https://avatars2.githubusercontent.com/u/7996534?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1253208" class="comment js-comment js-task-list-container" data-body-version="b1d742e492f91b052dd0d54b0c56b5c8">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/GrimaceVladimir">GrimaceVladimir</a>
          </strong>

          commented

            <a href="#comment-1253208" class="timestamp"><time datetime="2014-06-26T13:44:55Z" is="relative-time">June 26, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Hey Steve. I get this when running your initial command ./unbrew.rb: command not found . Any ideas on how I can solve this? And is it harder to uninstall homebrew or macports is harder?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/neversleepz"><img class="timeline-comment-avatar" src="https://avatars1.githubusercontent.com/u/1033439?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1262531" class="comment js-comment js-task-list-container" data-body-version="735afbb8dbfafff9f63a4e87e139602f">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/neversleepz">neversleepz</a>
          </strong>

          commented

            <a href="#comment-1262531" class="timestamp"><time datetime="2014-07-13T00:39:13Z" is="relative-time">July 13, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@GrimaceVladimir You'll need to give execute permissions to the script. eg <code>chmod a+x unbrew.rb</code><br>
@Steve great script. worked well.  Liked the verbose and dry run modes.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1269767" class="comment js-comment js-task-list-container" data-body-version="63a7ad56fc8a5430461098caf77c6d80">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1269767" class="timestamp"><time datetime="2014-07-25T05:55:15Z" is="relative-time">July 25, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <h4>Hi guys</h4>

<p>So I added a new feature (well, two, technically) in which the script will output a list of all formulas and kegs you had installed/tapped, after removing them. I thought it was a pretty clever addition, seeing as the script really does its best to wipe your system of all things Homebrew, possibly leaving you wondering what he hell you had installed previously! I'm in the habit of doing things like <code>brew list &gt; ~/Downloads/brews.txt</code> in case of uninstalling package managers and such, but now people don’t need to worry about that. I tested it out, and this feature seems to work just fine with everything.</p>

<p>The other thing I added was just versioning, and an option to print the script version... I recently discovered that this is a builtin ability of <code>OptionParser</code>, which is cool, and fit with my desire to develop it further. I started maintaining a change log and tags already, and it had me thinking... I’ll probably hit up the maintainers at some point and see if they are interested in making a better official uninstaller, as what we have on <a href="https://github.com/Homebrew/homebrew/wiki/FAQ#how-do-i-uninstall-homebrew" rel="noreferrer">the Homebrew wiki</a> is pretty sad...</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/SteveBenner"><img class="timeline-comment-avatar" src="https://avatars3.githubusercontent.com/u/2619000?s=140" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1269775" class="comment js-comment js-task-list-container" data-body-version="4873ca41cce3198a093e45f83da81a3b">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/SteveBenner">SteveBenner</a>
          </strong>

          commented

            <a href="#comment-1269775" class="timestamp"><time datetime="2014-07-25T06:15:43Z" is="relative-time">July 25, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@GrimaceVladimir I edited my initial comment with more clear instructions for everyone, hope that helps. Also, I haven’t used MacPorts but from what I hear, it’s much more difficult to work with in general. </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="/schiff"><img class="timeline-comment-avatar" src="https://avatars1.githubusercontent.com/u/5815503?s=140" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1279644" class="comment js-comment js-task-list-container" data-body-version="f360ab7627744f821e9fdb2278171f3a">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="/schiff">schiff</a>
          </strong>

          commented

            <a href="#comment-1279644" class="timestamp"><time datetime="2014-08-11T20:12:10Z" is="relative-time">August 11, 2014</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Works like a charm.  Thank you so much for your time.  Removing Homebrew can definitely be a pain.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

          </div>

          <div class="discussion-timeline-actions">
              <div class="signed-out-comment">
	<a class="button primary" href="https://github.com/signup?return_to=gist" rel="nofollow">Sign up for free</a>
	<strong>to join this conversation on GitHub</strong>.
	Already have an account?
  <a href="https://gist.github.com/login?return_to=%2FSteveBenner%2F11254428" rel="nofollow">Sign in to comment</a>
</div>


          </div>
        </div><!-- /.discussion-timeline -->
      </div><!-- /.gist-content -->
    </div>
  </div>
</div><!-- /.container -->

  <div class="context-overlay"></div>
</div>

    </div>
    <div class="slow-loading-overlay"></div>
  </div>

  <div id="ajax-error-message" class="flash flash-error">
    <div class="container">
      <span class="octicon octicon-alert"></span>
      Something went wrong with that request. Please try again.
      <a href="#" class="octicon octicon-x ajax-error-dismiss"></a>
    </div>
  </div>


  <footer>
    <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="https://github.com/blog">Blog</a></li>
      <li><a href="https://github.com/about">About</a></li>

    </ul>

    <a href="/">
      <span class="mega-octicon octicon-mark-github" title="GitHub "></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2014 <span title="0.06151s from github-fe102-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->

  </footer>

  <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
        <div class="suggester-container">
            <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                data-url="/SteveBenner/11254428/suggestions">
            </div>
        </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>


</body>
</html>
